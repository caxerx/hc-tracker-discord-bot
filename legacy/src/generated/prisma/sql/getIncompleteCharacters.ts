
/* !!! This is code generated by Prisma. Do not edit directly. !!! */
/* eslint-disable */
// biome-ignore-all lint: generated file
// @ts-nocheck 
import * as $runtime from "@prisma/client/runtime/client"

/**
 * @param raidDate
 */
export const getIncompleteCharacters = $runtime.makeTypedQueryFactory("\nWITH active_characters AS (\nSELECT DISTINCT ON (\"characterName\")\n\"characterName\",\nid\nFROM \"RegisterCharacter\"\nWHERE \"registerDate\" <= $1::date\nAND \"unregisterDate\" >= $1::date\nORDER BY \"characterName\", \"registerDate\" DESC\n),\ncharacter_completions AS (\nSELECT\nac.\"characterName\",\nCOUNT(DISTINCT CASE WHEN rc.\"raidType\" = 'Kirollas' THEN 1 END) as \"kirollasCompleted\",\nCOUNT(DISTINCT CASE WHEN rc.\"raidType\" = 'Carno' THEN 1 END) as \"carnoCompleted\"\nFROM active_characters ac\nLEFT JOIN \"RaidCompletion\" rc\nON rc.\"characterId\" = ac.id\nAND rc.\"raidDate\" = $1::date\nGROUP BY ac.\"characterName\"\n)\nSELECT \"characterName\"\nFROM character_completions\nWHERE \"kirollasCompleted\" = 0 OR \"carnoCompleted\" = 0\nORDER BY \"characterName\" ASC") as (raidDate: string) => $runtime.TypedSql<getIncompleteCharacters.Parameters, getIncompleteCharacters.Result>

export namespace getIncompleteCharacters {
  export type Parameters = [raidDate: string]
  export type Result = {
    characterName: string
  }
}
